#Sorting/Merge Sort: Counting Inversions
#!/bin/python3

import math
import os
import random
import re
import sys

# Complete the countInversions function below.
def countInversions(arr):
    numOfSwaps = 0
    temp = [0 for i in range(len(arr))]
    numOfSwaps = mergeSort(arr, temp, 0, len(arr)-1)
    return numOfSwaps

def mergeSort(arr, temp, leftStart, rightEnd):
    if leftStart >= rightEnd:
        return 0
    midPt = int((leftStart + rightEnd) / 2)
    leftNum = mergeSort(arr, temp, leftStart, midPt)
    rightNum = mergeSort(arr, temp, midPt+1, rightEnd)
    numOfSwaps = merge(arr, temp, leftStart, rightEnd, midPt)
    return leftNum + rightNum + numOfSwaps
    
def merge(arr, temp, leftStart, rightEnd, midPt):
    #print("before", numOfSwaps)
    numOfSwaps = 0
    left = leftStart
    right = midPt + 1
    index = leftStart
    while left <= midPt and right <= rightEnd:
        if arr[left] <= arr[right]:
            temp[index] = arr[left]
            left += 1
        else:
            temp[index] = arr[right]
            right += 1
            numOfSwaps += (midPt-left+1)
        index += 1
    if left < midPt+1:
        count = 0
        for i in range(left, midPt+1):
            temp[index+count] = arr[i]
            count += 1
    if right < rightEnd + 1:
        count = 0
        for i in range(right, rightEnd+1):
            temp[index+count] = arr[i]
            count += 1
    for i in range(leftStart, rightEnd+1):
        arr[i] = temp[i]
    #print("after", numOfSwaps)
    return numOfSwaps

if __name__ == '__main__':
    fptr = open(os.environ['OUTPUT_PATH'], 'w')
    t = int(input())
    for t_itr in range(t):
        n = int(input())
        arr = list(map(int, input().rstrip().split()))
        result = countInversions(arr)
        fptr.write(str(result) + '\n')
    fptr.close()
